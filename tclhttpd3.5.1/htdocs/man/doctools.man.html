<! -- -*- tcl -*- doctools manpage
   -->
<html><head>
<title>doctools - Documentation tools </title>
</head>
<! -- Generated from file '' by tcllib/doctools with format 'html'
   -->
<! -- Copyright &copy; 2003 Andreas Kupries &lt;andreas_kupries@users.sourceforge.net&gt;
   -->
<! -- CVS: $Id$ doctools.n
   -->

<body>
<h1> doctools(n) 1.0.1  &quot;Documentation tools&quot;</h1>
<h2><a name="name">NAME</a></h2>
<p>
<p> doctools - Create and manipulate doctools converter object





<h2><a name="tableofcontents">TABLE OF CONTENTS</a></h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tableofcontents">TABLE OF CONTENTS</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#synopsis">SYNOPSIS</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#description">DESCRIPTION</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#api">API</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#objectcommand">OBJECT COMMAND</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#objectmethods">OBJECT METHODS</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#objectconfiguration">OBJECT CONFIGURATION</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#formatmapping">FORMAT MAPPING</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#engines">ENGINES</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#seealso">SEE ALSO</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#keywords">KEYWORDS</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#copyright">COPYRIGHT</a><br><h2><a name="synopsis">SYNOPSIS</a></h2>
<p>
package require <b>Tcl 8.2</b><br>
package require <b>doctools ?1.0.1?</b><br>
<br><table border=1 width=100% cellspacing=0 cellpadding=0><tr            bgcolor=lightyellow><td bgcolor=lightyellow><table 0 width=100% cellspacing=0 cellpadding=0><tr valign=top ><td ><a href="#1"><b class='cmd'>::doctools::new</b> <i class='arg'>objectName</i> ?<i class='arg'>option value</i>...?</a></td></tr>
<tr valign=top ><td ><a href="#2"><b class='cmd'>::doctools::help</b> </a></td></tr>
<tr valign=top ><td ><a href="#3"><b class='cmd'>::doctools::search</b> <i class='arg'>path</i></a></td></tr>
<tr valign=top ><td ><a href="#4"><b class='cmd'>objectName</b> <i class='arg'>option</i> ?<i class='arg'>arg arg ...</i>?</a></td></tr>
<tr valign=top ><td ><a href="#5"><i class='arg'>objectName</i> <strong>configure</strong></a></td></tr>
<tr valign=top ><td ><a href="#6"><i class='arg'>objectName</i> <strong>configure</strong> <i class='arg'>option</i></a></td></tr>
<tr valign=top ><td ><a href="#7"><i class='arg'>objectName</i> <strong>configure</strong> <i class='arg'>option value</i>...</a></td></tr>
<tr valign=top ><td ><a href="#8"><i class='arg'>objectName</i> <strong>cget</strong> <i class='arg'>option</i></a></td></tr>
<tr valign=top ><td ><a href="#9"><i class='arg'>objectName</i> <strong>destroy</strong></a></td></tr>
<tr valign=top ><td ><a href="#10"><i class='arg'>objectName</i> <strong>format</strong> <i class='arg'>text</i></a></td></tr>
<tr valign=top ><td ><a href="#11"><i class='arg'>objectName</i> <strong>search</strong> <i class='arg'>path</i></a></td></tr>
<tr valign=top ><td ><a href="#12"><i class='arg'>objectName</i> <strong>warnings</strong></a></td></tr>
</table></td></tr></table>
<h2><a name="description">DESCRIPTION</a></h2>
<p>

This package provides objects which can be used to convert text
written in the doctools format as specified in <b class='cmd'>dtformat(n)</b>
into any output format X, assuming that a formatting engine for X is
available and provides the interface specified in
<b class='cmd'>dtformatter(n)</b>.

<h2><a name="api">API</a></h2>
<p>

<dl>

<dt><a name="1"><b class='cmd'>::doctools::new</b> <i class='arg'>objectName</i> ?<i class='arg'>option value</i>...?</a><dd>


Creates a new doctools object with an associated global Tcl command
whose name is <i class='arg'>objectName</i>. This command is explained in full
detail in the sections <a href="#objectcommand">OBJECT COMMAND</a> and

<a href="#objectmethods">OBJECT METHODS</a>.

<br><br>

The list of options and values coming after the name of the object is
used to set the initial configuration of the object.

<br><br>
<dt><a name="2"><b class='cmd'>::doctools::help</b> </a><dd>


This is a pure convenience command for applications which want to
provide their user with a reminder of the available formatting
commands and their meanings. It returns a string containing a standard
help for this purpose.


<br><br>
<dt><a name="3"><b class='cmd'>::doctools::search</b> <i class='arg'>path</i></a><dd>


Whenever the package has to map the name of a format to the file
containing the code for its formatting engine it will search the file
in a number of directories. Three such directories are declared by the
package itself.

<br><br>

However the list is extensible by the user of the package and the
command above is the means to do so. When given a <i class='arg'>path</i> to an
existing and readable directory it will prepend that directory to the
existing list. This means that the path added last is searched through
first.

<br><br>

An error will be thrown if the <i class='arg'>path</i> either does not excist, is
not a directory, or is not readable.

</dl>

<h2><a name="objectcommand">OBJECT COMMAND</a></h2>
<p>

All commands created by <b class='cmd'>::doctools::new</b> have the following
general form and may be used to invoke various operations on the
object they are associated with.

<dl>

<dt><a name="4"><b class='cmd'>objectName</b> <i class='arg'>option</i> ?<i class='arg'>arg arg ...</i>?</a><dd>


The <i class='arg'>option</i> and its <i class='arg'>arg</i>s determine the exact behavior of
the command. See section <a href="#objectmethods">OBJECT METHODS</a> for more
explanations.

</dl>

<h2><a name="objectmethods">OBJECT METHODS</a></h2>
<p>

<dl>

<dt><a name="5"><i class='arg'>objectName</i> <strong>configure</strong></a><dd>


When called without argument this method returns a list of all known
options and their current values.

<br><br>
<dt><a name="6"><i class='arg'>objectName</i> <strong>configure</strong> <i class='arg'>option</i></a><dd>


When called with a single argument this method behaves like
<strong>cget</strong>.

<br><br>
<dt><a name="7"><i class='arg'>objectName</i> <strong>configure</strong> <i class='arg'>option value</i>...</a><dd>


When called with more than one argument the method reconfigures the
object using the <i class='arg'>option</i>s and <i class='arg'>value</i>s given to it.

<br><br>

The legal configuration options are described in section
<a href="#objectconfiguration">OBJECT CONFIGURATION</a>.

<br><br>
<dt><a name="8"><i class='arg'>objectName</i> <strong>cget</strong> <i class='arg'>option</i></a><dd>


This method expects a legal configuration option as argument and
returns the current value of that option for the object the method was
invoked for.

<br><br>

The legal configuration options are described in section
<a href="#objectconfiguration">OBJECT CONFIGURATION</a>.

<br><br>
<dt><a name="9"><i class='arg'>objectName</i> <strong>destroy</strong></a><dd>


Destroys the object it is invoked for.

<br><br>
<dt><a name="10"><i class='arg'>objectName</i> <strong>format</strong> <i class='arg'>text</i></a><dd>


Takes the <i class='arg'>text</i> and runs it through the configured formatting
engine. The resulting string is returned as the result of this
method. An error will be thrown if no <strong>-format</strong> was configured
for the object.

<br><br>

The method assumes that the <i class='arg'>text</i> is in doctools format as
specified in <b class='cmd'>dtformat(n)</b>. Errors will be thrown otherwise.


<br><br>
<dt><a name="11"><i class='arg'>objectName</i> <strong>search</strong> <i class='arg'>path</i></a><dd>


This method extends the per-object list of paths searched for
formatting engines. See also <b class='cmd'>::doctools::search</b> on how to extend
the global (per-package) list of paths.

<br><br>

The path entered last is searched through first.

<br><br>
<dt><a name="12"><i class='arg'>objectName</i> <strong>warnings</strong></a><dd>


Returns a list containing all the warnings generated by the engine
during the last invocation of method <strong>format</strong>.

</dl>

<h2><a name="objectconfiguration">OBJECT CONFIGURATION</a></h2>
<p>

All doctools objects understand the following configuration options:

<dl>

<dt><strong>-file</strong> <i class='arg'>file</i><dd>

The argument of this option is stored in the object and can be
retrieved by the formatting engine via the command <b class='cmd'>dt_file</b> (see
<b class='cmd'>dtformatter(n)</b>). Its default value is the empty string.

<br><br>

It will be interpreted as the name of the file containing the text
currently processed by the engine.

<br><br>
<dt><strong>-module</strong> <i class='arg'>text</i><dd>

The argument of this option is stored in the object and can be
retrieved by the formatting engine via the command <b class='cmd'>dt_module</b>
(see <b class='cmd'>dtformatter(n)</b>). Its default value is the empty string.

<br><br>

It will be interpreted as the name of the module the file containing
the text currently processed by the engine belongs to.

<br><br>
<dt><strong>-format</strong> <i class='arg'>text</i><dd>

The argument of this option specifies the format and thus the engine
to use when converting text via <strong>format</strong>. Its default value is
the empty string. No formatting is possible if this
option is not set at least once.

<br><br>

The package will immediately try to map the name of the format to a
file containing the implementation of the engine for that format. An
error will be thrown if this mapping fails and a previously configured
format is left untouched.

<br><br>

Section <a href="#formatmapping">FORMAT MAPPING</a> explains how
the package looks for engine implementations.

<br><br>
<dt><strong>-deprecated</strong> <i class='arg'>boolean</i><dd>

This option is a flag. If set the object will generate warnings when
formatting a text containing the deprecated markup command <b class='cmd'>strong</b>
Its default value is <strong>FALSE</strong>. In other words, no warnings will
be generated.

</dl>

<h2><a name="formatmapping">FORMAT MAPPING</a></h2>
<p>

When trying to map a format name <em>foo</em> to the file containing
the implementation of formatting engine for <em>foo</em> the package
will perform the following algorithm:

<ol>
<li>

If <em>foo</em> is the name of an existing file this file is directly
taken as the implementation.

<br><br>
<li>

If not, the list of per-object search paths is searched. For each
directory in the list the package checks if that directory contains a
file &quot;<strong>fmt.<em>foo</em></strong>&quot;. If yes, that file is taken as the
implementation.

<br><br>

This list of paths is initially empty and can be extended through the
object method <strong>search</strong>.

<br><br>
<li>

If not, the list of global (package) paths is searched. For each
directory in the list the package checks if that directory contains a
file &quot;<strong>fmt.<em>foo</em></strong>&quot;. If yes, that file is taken as the
implementation.

<br><br>

This list of paths contains initially one path and can be extended
through the command <b class='cmd'>::doctools::search</b>.

<br><br>

The initial (standard) path is the sub directory &quot;<strong>mpformats</strong>&quot; of
the directory the package itself is located in. In other words, if the
package implementation &quot;<strong>doctools.tcl</strong>&quot; is installed in the
directory &quot;<strong>/usr/local/lib/tcllib/doctools</strong>&quot; then it will by
default search the directory

&quot;<strong>/usr/local/lib/tcllib/doctools/mpformats</strong>&quot; for format
implementations.

<br><br>
<li>

The mapping fails.

</ol>


<h2><a name="engines">ENGINES</a></h2>
<p>

The package comes with the following predefined formatting engines

<dl>
<dt>html<dd>

This engine generates HTML markup, for processing by web browsers and
the like.

<br><br>
<dt>latex<dd>

This engine generates output suitable for the <strong>latex</strong> text
processor coming out of the TeX world.

<br><br>
<dt>list<dd>

This engine retrieves version, section and title of the manpage from
the document. As such it can be used to generate a directory listing
for a set of manpages.

<br><br>
<dt>nroff<dd>

This engine generates nroff output, for processing by <strong>nroff</strong>,
or <strong>groff</strong>. The result will be standard man pages as they are
known in the unix world.

<br><br>
<dt>null<dd>

This engine generates no outout at all. This can be used if one just
wants to validate some input.

<br><br>
<dt>tmml<dd>

This engine generates TMML markup as specified by Joe English. The Tcl
Manpage Markup Language is a derivate of XML.

<br><br>
<dt>wiki<dd>

This engine generates Wiki markup as understood by Jean Claude
Wippler's <strong>wikit</strong> application.

</dl>



<h2><a name="seealso">SEE ALSO</a></h2>
<p>
doctools_api, doctools_fmt
<h2><a name="keywords">KEYWORDS</a></h2>
<p>
HTML, TMML, conversion, documentation, index, manpage, markup, nroff, table of contents, toc
<h2><a name="copyright">COPYRIGHT</a></h2>
<p>
Copyright &copy; 2003 Andreas Kupries &lt;andreas_kupries@users.sourceforge.net&gt;<br>
</body></html>

